# 回收业务流程文档

## 业务流程概述

### 回收订单状态流转
```
pending (待估价) 
  ↓ [管理员给出预估价格]
quoted (已估价) 
  ↓ [用户确认]
confirmed (已确认) 
  ↓ [用户寄出设备]
shipped (已寄出) 
  ↓ [平台收到设备]
inspected (已检测) 
  ↓ [管理员设置最终价格]
completed (已完成) 
  ↓ [管理员执行打款]
paid (已打款) → 钱存入用户钱包
```

## 关键节点

### 1. 订单创建 (pending)
- 用户提交回收订单
- 填写设备信息、联系方式、收货地址

### 2. 估价阶段 (quoted)
- 管理员给出预估价格
- 用户可以选择确认或拒绝

### 3. 确认阶段 (confirmed)
- 用户确认价格
- 系统生成物流信息

### 4. 物流阶段 (shipped)
- 用户寄出设备
- 填写物流公司和运单号
- 平台收到设备后更新状态

### 5. 质检阶段 (inspected)
- 平台进行质检
- 创建质检报告
- 管理员设置最终价格

### 6. 完成阶段 (completed)
- 订单状态变为已完成
- 可以执行打款操作

### 7. 打款阶段 (paid)
- 管理员点击"执行打款"
- 系统将钱存入用户钱包
- 更新订单打款状态

## 钱包和提现流程

### 钱包功能
1. 用户钱包余额查询
2. 交易记录查看
3. 提现到支付宝

### 提现流程
1. 用户申请提现
2. 填写支付宝账号和姓名
3. 系统调用支付宝转账接口
4. 提现成功/失败处理
5. 更新钱包余额和交易记录

## 官方验货流程

### 发布为官方验商品
1. 回收订单完成后
2. 管理员可以发布为官方验商品
3. 商品自动上架到官方验货专区







