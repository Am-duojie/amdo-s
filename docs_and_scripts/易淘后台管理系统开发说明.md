易淘后台管理系统开发说明
1. 目标与范围
支撑三条业务线：
1) 自由交易：商品审核/上下架，订单支付→发货→收货→完成/取消。
2) 回收：估价→用户确认→寄回→质检→定最终价→完成→打款入钱包。
3) 回收品再售（官方验）：完成回收单后一键发布官方验商品，上架/下架/售出。
提供资金侧闭环：打款入钱包、提现到支付宝（失败自动回退）。
提供运营、风控、审计、配置能力。
2. 角色与权限粒度（示例）
角色：客服、质检员、质检主管、财务、运营、风控、内容审核、管理员。
关键权限点：
自由交易：product:view、product:write（上下架）、order:view、order:fulfill。
回收：inspection:view、inspection:write（估价/质检/状态）、inspection:price（定价）、inspection:payment（打款）。
官方验：recycled:write（发布/上下架）。
钱包/提现：wallet:view、wallet:withdraw（审核/重试）。
风控/审核：risk:action、内容审核相关。
配置：config:write。
敏感操作（打款/提现/导出）需二次确认和审计日志。
3. 业务状态机（对齐现有实现）
自由交易订单：pending → paid → shipped → completed（可 cancelled）。
回收订单：pending → quoted → confirmed → shipped → inspected → completed → paid（可 cancelled），内部标记：received、final_price_confirmed、price_dispute。
官方验商品：pending / active / sold / removed，价格默认回收价 × 1.3，关联回收订单。
4. 核心页面/功能设计
仪表盘：关键指标、待办入口（待估价、待质检、待打款、提现待处理）。
自由交易
商品列表：状态筛选、关键词搜索、批量上下架、来源标识（自由/官方验）。
订单列表：状态筛选、时间筛选，发货/收货/取消/退款处理，支付流水查看。
订单详情：商品信息、支付记录、物流、售后处理。
回收
回收订单列表：状态筛选 pending/quoted/confirmed/shipped/inspected/completed/paid/cancelled，快捷筛“待估价/待质检/待打款”。
回收订单详情：步骤条+时间线；预估价、质检报告、最终价、物流信息、价格异议处理；“执行打款”二次确认；“发布为官方验”入口。
官方验商品
列表：状态筛选 pending/active/sold/removed，搜索、分页，批量上/下架。
详情：质检摘要、原回收单链接、价格（回收价&1.3x）、状态操作。
资金
钱包交易列表：收入/支出/打款/提现记录。
提现审核/记录：状态筛选，失败重试，失败自动回退展示。
打款记录：按订单、用户筛选，失败重试。
风控与内容审核
商品/评论/消息审核，黑名单/设备指纹，规则命中日志，处置（限发/冻结/下架）。
配置中心
品类/品牌字典、质检标准模板、官方验定价系数（1.3 可配置）、风控规则、物流/仓库配置。
5. API 与前端路由对照（关键）
回收订单：
列表：GET /api/recycle-orders/
详情：GET /api/recycle-orders/:id/
打款：POST /api/admin-api/inspection-orders/:id/payment
官方验商品：
列表：GET /api/admin-api/verified-listings（前端 adminApi.get('/verified-listings', { params })）
上架/下架：POST /verified-listings/{id}/publish|unpublish
创建：POST /verified-listings/（前端 VerifiedProductForm）
钱包/提现：
钱包：GET /api/users/wallet/
提现：POST /api/users/withdraw/
自由交易（参考 README API 文档）：商品、订单、支付相关接口。
6. 前端实现要点（已存在页面）
管理端路由（示例）：
回收订单列表/详情：/admin/inspection-orders，/admin/inspection-orders/:id
官方验商品管理：/admin/verified-products（VerifiedProductManagement.vue，含审核/上下架/批量操作/详情对话框/创建对话框）
交互规范：
列表操作后自动刷新；搜索重置时重置页码；批量操作需确认框。
敏感操作（打款、批量上/下架）二次确认；错误提示明确。
7. 后端实现要点
模型与状态字段对齐上述状态机；支付、打款、提现要有幂等与失败补偿（提现失败自动回退）。
打款逻辑：校验订单状态 inspected/completed 且有最终价，写钱包+交易记录+打款状态；避免重复打款。
官方验商品：关联回收订单，价格系数配置化，状态切换接口 publish/unpublish。
日志与审计：记录敏感操作（打款/提现/上下架/导出），包含操作者、IP、UA、对象、结果。
8. 任务队列与告警（建议）
待办队列：待估价、待质检、待打款、提现待处理。
告警：提现失败率、打款失败、支付回调异常、库存/状态不一致、风控高命中。
9. 配置与可调参数
官方验定价系数（默认 1.3x）
质检模板/检测项
风控规则与黑名单
物流/仓库配置
导出与大额操作的审批开关
10. 开发与测试指引
回收打款流程测试：创建回收单→走到 completed→执行打款→钱包余额变化→提现到沙箱支付宝→失败回退验证。
官方验上架测试：完成回收单→发布官方验→列表筛选/搜索→上下架/批量上下架→售出后状态 sold。
自由交易流程：商品审核上架→下单支付→发货→收货→完成/取消。
回归用例：状态机跳转合法性、权限校验、二次确认、审计日志、接口幂等、异常回退。
11. 导航信息架构（建议）
仪表盘
自由交易：商品｜订单｜售后/退款
回收：回收订单｜质检/定价｜打款记录
官方验：官方验商品
资金：钱包交易｜提现审核/记录｜打款记录
风控与审核：内容审核｜风控命中/处置
配置中心：品类/品牌｜质检模板｜定价系数｜风控规则｜物流仓库
系统：账号与权限｜操作审计
如需按实际文件生成 Markdown 成品文件或补充具体接口表，请告知存放路径和格式（例如 docs/admin-dev-guide.md），我可直接生成并落盘。