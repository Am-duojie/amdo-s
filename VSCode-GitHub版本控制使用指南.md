# VSCode + GitHub 版本控制使用指南

## 📋 目录
1. [初始设置](#初始设置)
2. [日常开发工作流](#日常开发工作流)
3. [提交代码](#提交代码)
4. [同步到GitHub](#同步到github)
5. [分支管理](#分支管理)
6. [常见操作](#常见操作)
7. [最佳实践](#最佳实践)

---

## 初始设置

### 1. 检查 GitHub 连接
你的项目已经连接到 GitHub 仓库：
- 远程仓库地址：`https://github.com/Am-duojie/----.git`
- 当前分支：`main`

### 2. VSCode 中启用 Git 功能
1. **打开源代码管理面板**：
   - 点击左侧活动栏的源代码管理图标（分支图标）🔀
   - 或按快捷键 `Ctrl+Shift+G`

2. **登录 GitHub 账户**（如果还没登录）：
   - 点击左下角齿轮图标 ⚙️
   - 选择 "命令面板" 或按 `Ctrl+Shift+P`
   - 输入 `Git: Clone` 或 `GitHub: Sign in`
   - 按照提示完成登录

---

## 日常开发工作流

### 基本流程
```
修改代码 → 暂存更改 → 提交 → 推送到GitHub
```

### 在 VSCode 中操作

#### 步骤 1: 查看更改
1. 打开源代码管理面板 (`Ctrl+Shift+G`)
2. 你会看到：
   - **更改**：已修改但未暂存的文件
   - **暂存的更改**：已暂存准备提交的文件
   - **合并更改**：如果有冲突

#### 步骤 2: 暂存文件（Stage）
- **暂存单个文件**：
  - 将鼠标悬停在文件上，点击 `+` 号
  - 或在文件上右键 → 选择 "暂存更改"
  
- **暂存所有文件**：
  - 点击 "更改" 标题旁的 `+` 号
  - 或按 `Ctrl+Shift+P` → 输入 `Git: Stage All Changes`

#### 步骤 3: 提交更改（Commit）
1. 在 "暂存的更改" 下方的输入框写入提交信息
   - 简洁明了，描述这次更改的主要内容
   - 例如：`修复登录验证bug` 或 `添加商品搜索功能`
   
2. 点击输入框上方的 "✓" 提交按钮
   - 或按 `Ctrl+Enter` 快速提交
   - 或按 `Ctrl+Shift+P` → 输入 `Git: Commit`

3. **提交格式建议**：
   ```
   功能：添加用户头像上传功能
   修复：解决价格计算错误
   重构：优化数据库查询性能
   文档：更新API使用说明
   ```

#### 步骤 4: 推送到 GitHub
- 点击源代码管理面板顶部的同步按钮（两个箭头循环的图标）🔄
- 或点击 "..." 菜单 → 选择 "推送"
- 或按 `Ctrl+Shift+P` → 输入 `Git: Push`

---

## 提交代码

### 提交信息规范（个人开发建议）

#### 简单格式
```
简短描述（50字以内）

详细说明（可选，解释为什么这样改，改了什么）
```

#### 提交类型前缀（可选，但推荐）
- `功能` 或 `feat`: 新功能
- `修复` 或 `fix`: 修复bug
- `文档` 或 `docs`: 文档更新
- `样式` 或 `style`: 代码格式调整（不影响功能）
- `重构` 或 `refactor`: 代码重构
- `测试` 或 `test`: 测试相关
- `优化` 或 `perf`: 性能优化

#### 示例
```
功能：添加商品收藏功能

- 用户可以收藏/取消收藏商品
- 在个人中心查看收藏列表
- 添加收藏数量统计
```

```
修复：解决订单支付失败问题

修复了支付接口超时导致的订单状态错误
```

---

## 同步到GitHub

### 推送（Push）- 上传你的代码
- **什么时候推送**：
  - 完成一个功能模块后
  - 修复了一个bug后
  - 每天下班前（备份工作进度）
  
- **如何推送**：
  1. 确保已提交所有更改
  2. 点击同步按钮 🔄 或 "推送"

### 拉取（Pull）- 从GitHub下载最新代码
- **什么时候拉取**：
  - 在其他电脑上工作时，先拉取最新代码
  - 多人协作时（虽然你是个人开发，但如果有多台电脑）
  
- **如何拉取**：
  - 点击 "..." 菜单 → 选择 "拉取"
  - 或按 `Ctrl+Shift+P` → 输入 `Git: Pull`

### 拉取并推送（Pull & Push）- 同步
- **推荐操作**：点击同步按钮 🔄
  - 这会先拉取远程更改，然后推送你的更改
  - 避免冲突，保持代码最新

---

## 分支管理

### 个人开发的分支策略（简化版）

#### 主分支（main/master）
- 保持稳定、可运行的代码
- 只提交经过测试的完整功能

#### 功能分支（可选，但推荐）
1. **创建新分支**：
   - 点击左下角分支名称
   - 选择 "创建新分支"
   - 输入分支名，如：`feature/user-profile`

2. **切换分支**：
   - 点击左下角分支名称
   - 选择要切换的分支

3. **合并分支**：
   - 切换到 `main` 分支
   - 点击 "..." 菜单 → "分支" → "合并分支"
   - 选择要合并的功能分支

4. **删除分支**：
   - 合并完成后可以删除功能分支
   - 点击 "..." 菜单 → "分支" → "删除分支"

### 分支命名建议
- `feature/功能名称` - 新功能
- `fix/问题描述` - 修复bug
- `refactor/重构内容` - 代码重构

---

## 常见操作

### 1. 撤销更改
- **撤销单个文件的修改**：
  - 在源代码管理面板中，右键文件 → "丢弃更改"
  
- **撤销所有未暂存的修改**：
  - 点击 "..." 菜单 → "更改" → "放弃所有更改"

- **取消暂存**：
  - 在暂存的文件上点击 `-` 号

### 2. 查看提交历史
- 点击源代码管理面板右上角的时钟图标 ⏰
- 或按 `Ctrl+Shift+P` → 输入 `Git: View History`

### 3. 比较更改
- 在源代码管理面板中，点击文件可以看到：
  - 左侧：旧代码
  - 右侧：新代码
  - 高亮显示修改的地方

### 4. 解决冲突
如果拉取时出现冲突：
1. VSCode 会标记冲突文件
2. 打开文件，你会看到：
   ```
   <<<<<<< HEAD
   你的代码
   =======
   远程代码
   >>>>>>> origin/main
   ```
3. 手动选择保留哪些代码，删除冲突标记
4. 暂存并提交解决后的文件

### 5. 忽略文件
- 项目已经有 `.gitignore` 文件
- 如果发现某些文件不应该提交（如临时文件），可以：
  - 右键文件 → "添加到 .gitignore"
  - 或手动编辑 `.gitignore` 文件

---

## 最佳实践

### ✅ 推荐做法

1. **频繁提交**
   - 完成一个小功能就提交
   - 不要等到所有功能完成才提交
   - 提交信息要清晰

2. **定期推送**
   - 每天至少推送一次（备份）
   - 完成一个功能模块就推送

3. **提交前检查**
   - 确认没有提交敏感信息（密码、密钥等）
   - 确认没有提交不必要的文件（`.env`、`node_modules` 等）
   - 检查 `.gitignore` 是否完整

4. **保持主分支稳定**
   - `main` 分支始终是可以运行的版本
   - 新功能用分支开发，测试后再合并

5. **使用有意义的提交信息**
   - 避免：`更新`、`修复`、`改了`
   - 使用：`修复用户登录验证逻辑`、`添加商品搜索功能`

### ❌ 避免的做法

1. **不要提交大文件**
   - 图片、视频等应该用其他方式管理
   - 如果必要，使用 Git LFS

2. **不要提交配置文件中的敏感信息**
   - API密钥、数据库密码等应该用环境变量
   - 使用 `.env` 文件并添加到 `.gitignore`

3. **不要强制推送（force push）到主分支**
   - 除非你确定知道在做什么

4. **不要在提交信息中写脏话或无用信息**

---

## 快捷键速查

| 操作 | 快捷键 |
|------|--------|
| 打开源代码管理面板 | `Ctrl+Shift+G` |
| 打开命令面板 | `Ctrl+Shift+P` |
| 快速提交 | `Ctrl+Enter`（在提交信息框中） |
| 查看更改 | `Ctrl+Shift+G` → 点击文件 |
| 查看提交历史 | 点击源代码管理面板的时钟图标 ⏰ |

---

## 当前项目状态

根据你的项目配置：
- ✅ 已连接到 GitHub 仓库
- ✅ 当前分支：`main`
- ✅ 已配置 `.gitignore`
- ⚠️ 有已暂存的文件等待提交：
  - 删除了两个API文档文件

### 下一步建议

1. **提交当前更改**：
   - 打开源代码管理面板
   - 查看暂存的更改
   - 输入提交信息，如：`文档：删除过时的API文档`
   - 点击提交按钮

2. **推送到GitHub**：
   - 提交后点击同步按钮推送

---

## 遇到问题？

### 常见问题

1. **无法推送 - 提示需要登录**
   - 在命令面板输入 `GitHub: Sign in` 登录

2. **推送被拒绝**
   - 先拉取远程更改：点击 "..." → "拉取"
   - 解决可能的冲突
   - 再次推送

3. **看不到源代码管理面板**
   - 点击左侧活动栏的分支图标
   - 或按 `Ctrl+Shift+G`

4. **想查看某个文件的修改历史**
   - 右键文件 → "打开时间线"
   - 或使用 GitLens 扩展（推荐）

### 推荐 VSCode 扩展

1. **GitLens** - 增强 Git 功能
   - 显示文件每行的最后修改者和时间
   - 更强大的提交历史查看

2. **Git Graph** - 可视化分支图
   - 直观查看分支和提交历史

---

## 总结

作为个人开发者，简化的流程：

1. **开发** → 修改代码
2. **暂存** → 选择要提交的文件
3. **提交** → 写清楚提交信息
4. **推送** → 同步到GitHub

记住：**小步快跑，频繁提交和推送！**

这样可以：
- ✅ 随时备份你的工作
- ✅ 方便在不同电脑上工作
- ✅ 保留完整的开发历史
- ✅ 便于回退到之前的版本

祝你开发顺利！🚀
